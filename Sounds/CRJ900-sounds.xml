<?xml version="1.0" encoding="UTF-8" ?>

<!-- Bombardier CRJ700 series -->
<!-- Internal sound configuration -->

<PropertyList>
	<params>
		<groundspeed-kt>velocities/groundspeed-kt</groundspeed-kt>
		<airspeed-kt>velocities/airspeed-kt</airspeed-kt>
		<!-- <groundspeed-kt>/devel/manual-input</groundspeed-kt> -->
		<!-- <airspeed-kt>/devel/manual-input</airspeed-kt> -->
	</params>
	<fx>
		<common include="common-sounds.xml" omit-node="y" />
		<!-- APU, same for inside and outside -->
		<apu>
			<name>APU starting</name>
			<mode>once</mode>
			<path>Aircraft/CRJ700-family/Sounds/apu_start.wav</path>
			<condition>
				<and>
					<property>controls/APU/off-on</property>
					<greater-than>
						<property>engines/engine[2]/rpm</property>
						<value>0</value>
					</greater-than>
					<less-than>
						<property>engines/engine[2]/rpm</property>
						<value>99</value>
					</less-than>
				</and>
			</condition>
			<reference-dist>10</reference-dist>
			<max-dist>50</max-dist>
			<position>
				<x>15.24</x>
				<y>0.01</y>
				<z>-0.70</z>
			</position>
		</apu>
		<apu>
			<name>APU running</name>
			<mode>looped</mode>
			<path>Aircraft/CRJ700-family/Sounds/apu_run.wav</path>
			<condition>
				<greater-than-equals>
					<property>engines/engine[2]/rpm</property>
					<value>99</value>
				</greater-than-equals>
			</condition>
			<reference-dist>10</reference-dist>
			<max-dist>50</max-dist>
			<position>
				<x>15.24</x>
				<y>0.01</y>
				<z>-0.70</z>
			</position>
		</apu>
		<apu>
			<name>APU shutdown</name>
			<mode>once</mode>
			<path>Aircraft/CRJ700-family/Sounds/apu_shutdown.wav</path>
			<condition>
				<and>
					<not>
						<property>controls/APU/off-on</property>
					</not>
					<greater-than>
						<property>engines/engine[2]/rpm</property>
						<value>0</value>
					</greater-than>
					<less-than>
						<property>engines/engine[2]/rpm</property>
						<value>99</value>
					</less-than>
				</and>
			</condition>
			<reference-dist>10</reference-dist>
			<max-dist>50</max-dist>
			<position>
				<x>15.24</x>
				<y>0.01</y>
				<z>-0.70</z>
			</position>
		</apu>
		<!-- Engine 1 external sound -->
		<engine>
			<name>Engine 1 sound 1 external</name>
			<path>Aircraft/CRJ700-family/Sounds/whine.wav</path>
			<mode>looped</mode>
			<condition>
				<and>
					<not>
						<property>sim/current-view/internal</property>
					</not>
					<greater-than>
						<property>engines/engine[0]/rpm</property>
						<value>0</value>
					</greater-than>
				</and>
			</condition>
			<volume>
				<property>engines/engine[0]/rpm</property>
				<offset>0</offset>
				<factor>0.005</factor>
			</volume>
			<pitch>
				<property>engines/engine[0]/rpm</property>
				<offset>0.5</offset>
				<factor>0.007</factor>
			</pitch>
			<position>
				<x>11.24</x>
				<y>2.27</y>
				<z>-0.31</z>
			</position>
			<!-- stuttering issues -->
			<!--orientation>
				<x>-1</x>
				<y>0.01</y>
				<z>0</z>
				<inner-angle>75</inner-angle>
				<outer-angle>210</outer-angle>
				<outer-gain>0.1</outer-gain>
			</orientation-->
		</engine>
		<engine>
			<name>Engine 1 sound 2 external</name>
			<path>Sounds/jet.wav</path>
			<mode>looped</mode>
			<condition>
				<and>
					<not>
						<property>sim/current-view/internal</property>
					</not>
					<greater-than>
						<property>engines/engine[0]/rpm</property>
						<value>0</value>
					</greater-than>
				</and>
			</condition>
			<volume>
				<property>engines/engine[0]/rpm</property>
				<offset>0.5</offset>
				<factor>0.015</factor>
			</volume>
			<pitch>
				<property>engines/engine[0]/rpm</property>
				<offset>0</offset>
				<factor>0.01</factor>
			</pitch>
			<position>
				<x>11.24</x>
				<y>2.27</y>
				<z>-0.31</z>
			</position>
			<!-- stuttering issues -->
			<!--orientation>
				<x>1</x>
				<y>0.01</y>
				<z>0</z>
				<inner-angle>75</inner-angle>
				<outer-angle>210</outer-angle>
				<outer-gain>0.1</outer-gain>
			</orientation-->
		</engine>
		<engine>
			<name>Engine 1 reverse thrust</name>
			<path>Aircraft/CRJ700-family/Sounds/reverse-thrust.wav</path>
			<mode>looped</mode>
			<condition>
				<and>
					<greater-than>
						<property>engines/engine[0]/rpm</property>
						<value>0</value>
					</greater-than>
					<greater-than>
						<property>engines/engine[0]/reverser-pos-norm</property>
						<value>0</value>
					</greater-than>
				</and>
			</condition>
			<volume>
				<property>engines/engine[0]/rpm</property>
				<offset>0</offset>
				<factor>0.01</factor>
			</volume>
			<position>
				<x>9.24</x>
				<y>2.27</y>
				<z>-0.31</z>
			</position>
		</engine>
		
		<!-- Engine 2 external sound -->
		<engine>
			<name>Engine 2 sound 1 external</name>
			<path>Aircraft/CRJ700-family/Sounds/whine.wav</path>
			<mode>looped</mode>
			<condition>
				<and>
					<not>
						<property>sim/current-view/internal</property>
					</not>
					<greater-than>
						<property>engines/engine[1]/rpm</property>
						<value>0</value>
					</greater-than>
				</and>
			</condition>
			<volume>
				<property>engines/engine[1]/rpm</property>
				<offset>0</offset>
				<factor>0.005</factor>
			</volume>
			<pitch>
				<property>engines/engine[1]/rpm</property>
				<offset>0.5</offset>
				<factor>0.007</factor>
			</pitch>
			<position>
				<x>11.24</x>
				<y>-2.27</y>
				<z>-0.31</z>
			</position>
			<!-- stuttering issues -->
			<!--orientation>
				<x>-1</x>
				<y>0.01</y>
				<z>0</z>
				<inner-angle>75</inner-angle>
				<outer-angle>210</outer-angle>
				<outer-gain>0.1</outer-gain>
			</orientation-->
		</engine>
		<engine>
			<name>Engine 2 sound 2 external</name>
			<path>Sounds/jet.wav</path>
			<mode>looped</mode>
			<condition>
				<and>
					<not>
						<property>sim/current-view/internal</property>
					</not>
					<greater-than>
						<property>engines/engine[1]/rpm</property>
						<value>0</value>
					</greater-than>
				</and>
			</condition>
			<volume>
				<property>engines/engine[1]/rpm</property>
				<offset>0.5</offset>
				<factor>0.0152</factor>
			</volume>
			<pitch>
				<property>engines/engine[1]/rpm</property>
				<offset>0</offset>
				<factor>0.01</factor>
			</pitch>
			<position>
				<x>11.24</x>
				<y>-2.27</y>
				<z>-0.31</z>
			</position>
			<!-- stuttering issues -->
			<!--orientation>
				<x>1</x>
				<y>0.01</y>
				<z>0</z>
				<inner-angle>75</inner-angle>
				<outer-angle>210</outer-angle>
				<outer-gain>0.1</outer-gain>
			</orientation-->
		</engine>
		<engine>
			<name>Engine 2 reverse thrust</name>
			<path>Aircraft/CRJ700-family/Sounds/reverse-thrust.wav</path>
			<mode>looped</mode>
			<condition>
				<and>
					<greater-than>
						<property>engines/engine[1]/rpm</property>
						<value>0</value>
					</greater-than>
					<greater-than>
						<property>engines/engine[1]/reverser-pos-norm</property>
						<value>0</value>
					</greater-than>
				</and>
			</condition>
			<volume>
				<property>engines/engine[1]/rpm</property>
				<offset>0</offset>
				<factor>0.01</factor>
			</volume>
			<position>
				<x>9.24</x>
				<y>-2.27</y>
				<z>-0.31</z>
			</position>
		</engine>
		<!-- Engine 1 internal sound -->
		<engine>
			<name>Engine 1 sound internal</name>
			<path>Aircraft/CRJ700-family/Sounds/whine-inside.wav</path>
			<mode>looped</mode>
			<condition>
				<and>
					<property>sim/current-view/internal</property>
					<greater-than>
						<property>engines/engine[0]/rpm</property>
						<value>0</value>
					</greater-than>
				</and>
			</condition>
			<volume>
				<property>engines/engine[0]/rpm</property>
				<offset>0.5</offset>
				<factor>0.006</factor>
			</volume>
			<pitch>
				<property>engines/engine[0]/rpm</property>
				<offset>0</offset>
				<factor>0.01</factor>
			</pitch>
			<position>
				<x>9.24</x>
				<y>2.27</y>
				<z>-0.31</z>
			</position>
			<reference-dist>10</reference-dist>
			<max-dist>50</max-dist>
			<!-- stuttering issues -->
			<!--orientation>
				<x>-1</x>
				<y>0.01</y>
				<z>0</z>
				<inner-angle>75</inner-angle>
				<outer-angle>210</outer-angle>
				<outer-gain>0.1</outer-gain>
			</orientation-->
		</engine>
		<!-- Engine 2 internal sound -->
		<engine>
			<name>Engine 2 sound internal</name>
			<path>Aircraft/CRJ700-family/Sounds/whine-inside.wav</path>
			<mode>looped</mode>
			<condition>
				<and>
					<property>sim/current-view/internal</property>
					<greater-than>
						<property>engines/engine[1]/rpm</property>
						<value>0</value>
					</greater-than>
				</and>
			</condition>
			<volume>
				<property>engines/engine[1]/rpm</property>
				<offset>0</offset>
				<factor>0.05</factor>
				<max>2</max>
			</volume>
			<pitch>
				<property>engines/engine[1]/rpm</property>
				<offset>0</offset>
				<factor>0.01</factor>
			</pitch>
			<position>
				<x>9.24</x>
				<y>-2.27</y>
				<z>-0.31</z>
			</position>
			<reference-dist>10</reference-dist>
			<max-dist>50</max-dist>
			<!-- stuttering issues -->
			<!--orientation>
				<x>-1</x>
				<y>0.01</y>
				<z>0</z>
				<inner-angle>75</inner-angle>
				<outer-angle>210</outer-angle>
				<outer-gain>0.1</outer-gain>
			</orientation-->
		</engine>

		<!-- Gear touchdown -->
		<gear>
			<name>Nose gear touchdown</name>
			<path>Aircraft/CRJ700-family/Sounds/squeaking-front.wav</path>
			<mode>once</mode>
			<condition>
				<property>gear/gear[0]/wow</property>
			</condition>
			<volume>
				<property>sim/model/sound-enabled</property>
			</volume>
			<volume>
				<offset>-0.95</offset>
			</volume>
			<position>
				<x>-16</x>
				<y>0.01</y>
				<z>-3.201</z>
			</position>
			<reference-dist>50</reference-dist>
			<max-dist>100</max-dist>
		</gear>
		<gear>
			<name>Nose gear touchdown 2</name>
			<path>Aircraft/CRJ700-family/Sounds/pressure-mid.wav</path>
			<mode>once</mode>
			<condition>
				<property>gear/gear[0]/wow</property>
			</condition>
			<volume>
				<property>sim/model/sound-enabled</property>
			</volume>
			<volume>
				<offset>-0.95</offset>
			</volume>
			<position>
				<x>-16</x>
				<y>0.01</y>
				<z>-3.201</z>
			</position>
			<reference-dist>50</reference-dist>
			<max-dist>100</max-dist>
		</gear>
		
		<rumble><!-- nose internal -->
			<name>Nose gear rumble</name>
			<mode>looped</mode>
			<path>Aircraft/CRJ700-family/Sounds/rumble.wav</path>
			<condition>
				<and>
					<property>gear/gear[0]/wow</property>
					<property>sim/current-view/internal</property>
				</and>
			</condition>
			<volume>
				<property alias="/params/groundspeed-kt" />
				<type>log</type>
				<factor>0.3</factor>
			</volume>
			<position>
				<x>-16</x>
				<y>0.01</y>
				<z>-3.201</z>
			</position>
			<reference-dist>6</reference-dist>
			<max-dist>25</max-dist>
		</rumble>
		<flaps-lever>
			<name>Flapslever</name>
			<path>Aircraft/CRJ700-family/Sounds/flaps-lever.wav</path>
			<mode>once</mode>
			<condition>
				<property>sim/sound/flaps-lever</property>
				<property>sim/current-view/internal</property>
			</condition>
			<position>
				<x>-15.64</x>
				<y>0.1760</y>
				<z>-1.2</z>
			</position>
			<max-dist>2</max-dist>
			<reference-dist>1</reference-dist>
		</flaps-lever>
	</fx>	
</PropertyList>
